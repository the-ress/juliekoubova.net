(function(win, doc, addEventListener, className, replace, element) {

  function triggerTypekitAnimation(delay) {
    element[className] = element[className][replace](/\bno-typekit\b/, '');
  }

  function createScript(src, onLoad) {
    var result = doc.createElement('script');
    result.src = 'https://' + src;
    result.async = 1;
    result.onload = result.onreadystatechange = onLoad;
    element.appendChild(result);
  }

  setTimeout(triggerTypekitAnimation, '{{typekitTimeout}}');
  
  GoogleAnalyticsObject = 'ga';
  ga = {
    l: +new Date,
    q: [
      ['create', '{{googleAnalyticsProperty}}', 'auto'],
      ['send', 'pageview']
    ]
  };

  // no document.head in IE lt 9
  element = doc.getElementsByTagName('head')[0];

  createScript('google-analytics.com/analytics.js');

  createScript(
    'use.typekit.net/{{ typekitId }}.js',
    function() {
      try {
        /^(c|l.*d$)/.test(this.readyState || 'c') && Typekit.load({ 
          async: 1,
          active: triggerTypekitAnimation 
        });
      } catch (e) { }
    }
  );

  element = doc.documentElement;
  element[className] = element[className][replace](/\bno-js\b/, 'js');
})(
  this,
  document,
  'addEventListener',
  'className',
  'replace'
);